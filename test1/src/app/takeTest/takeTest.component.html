
<div class="jumbotron" *ngIf="!viewAnswer">
  <div >
    <div class=" row col-md-12">
      <div class="col-md-10">
          <!-- <input type="file" style="display: inline-block;" (change)="incomingfile($event)" placeholder="Upload file" accept=".*">
          <button type="button" class="btn btn-info" (click)="Upload()" >Upload</button> -->
      </div>
          <div class="col-md-2">
          <select class="browser-default custom-select" [(ngModel)]="subject" (change)="filteredQuestionsList(subject)">
              <option *ngFor="let sub of subjects"  [value]="sub" >{{sub}}</option>
        </select>
      </div>
    </div>
    <!-- <form (ngSubmit)="onSubmit()"> -->
      
    <div  *ngFor="let item of  subQue">
      <p>{{ item.question }}</p>
      <p *ngFor="let res of  item.opt"> <input type="checkbox" [checked]="res.selected" [disabled]="viewAnswer" (change)="toggleChild(res.num,item.qid,item.opt,res.selected)"/>{{res.num}}</p>
      <!-- <mat-radio-button *ngFor="let res of  item.options" value=res>{{res}} </mat-radio-button> -->
     <!-- <p *ngIf="viewAnswer">answer {{item.answer}}</p> -->
     <hr>
    </div>
    <br/>
    <div *ngIf="display">{{counts}}/ {{subQue.length}} answers are correct</div>
    <div class="row">
        <div class="col-md-5"></div>
        <div><button type="submit" class="btn btn-primary" (click)="onSubmit()" >Submit</button></div>
        <div  style="padding-left: 2px"><button class="btn btn-primary" (click)="viewAns()" [disabled]="!submitted">View answers</button></div>
    </div>

  </div>

  
     
    
    <!-- </form> -->
    </div>
    <div *ngIf="viewAnswer">
        <table >
            <tr>
              <th>Question </th>
              <th>Selected answer </th>
              <th>Correct answer </th>
              <th>right/wrong </th>
              
            </tr>
            <tr *ngFor="let item of  ans">
              <td>{{ item.qid}}</td>
              <td>{{ item.sanswer}}</td>
              <td>{{ item.canswer}}</td>
              <td *ngIf="item.sanswer==item.canswer">    <i class="fa fa-check" style="font-size:24px"></i>
              </td>
              <td *ngIf="item.sanswer!=item.canswer"><i class="fa fa-close" style="font-size:24px"></i></td>
            </tr>
          </table>
          <br/>
          <div class="row" style="padding-left:9px">
              <div ><button> <a href="/takeTest"> go back</a></button></div>
          </div>
    </div>
    
    
    
    
    <!-- <ng-template #firstTemp>This is first template</ng-template>
    <ng-template #secTemp>This is sec template</ng-template> -->
    
    
      <!-- <mat-form-field class="example-full-width">
         <input type="text" placeholder="search word" aria-label="Number" matInput [formControl]="searchTerm" [matAutocomplete]="auto"> 
        <mat-autocomplete #auto="matAutocomplete">
          <mat-option *ngFor="let item of  obj" [value]="item">
            {{ item.question }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field> -->
      <div id="excelData" [hidden]="1">
          <table >
            <tr>
              <th>Question Id </th>
              <th>Selected answer </th>
              <th>Correct answer </th>
              
            </tr>
            <tr *ngFor="let item of  ans">
              <td>{{ item.qid}}</td>
              <td>{{ item.sanswer}}</td>
              <td>{{ item.canswer}}</td>
              
            </tr>
          </table>
        </div>
